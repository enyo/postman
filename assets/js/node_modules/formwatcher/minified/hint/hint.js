// Generated by CoffeeScript 1.3.3
(function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new 
i,e.__super__=n.prototype,e};e=ender,Formwatcher.decorators.push(function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.name="Hint",r.prototype.description="Displays a hint in an input field."
,r.prototype.nodeNames=["INPUT","TEXTAREA"],r.prototype.defaultOptions={auto:!0,removeTrailingColon:!0,color:"#aaa"},r.prototype.decParseInt=function(e){return parseInt(e,10)},r.prototype.accepts=function(
e){if(r.__super__.accepts.call(this,e))if(e.data("hint")!=null||this.options.auto&&Formwatcher.getLabel({input:e},this.watcher.options.automatchLabel))return!0;return!1},r.prototype.decorate=function(t
){var n,r,i,s,o,u,a,f,l,c,h,p,d=this;i={input:t},o=t.data("hint");if(o==null||!o){f=Formwatcher.getLabel(i,this.watcher.options.automatchLabel);if(!f)throw"The hint was empty, but there was no label.";
i.label=f,f.hide(),o=f.html(),this.options.removeTrailingColon&&(o=o.replace(/\s*\:\s*$/,""))}return Formwatcher.debug("Using hint: "+o),p=e.create('<span style="display: inline-block; position: relative;" />'
),p.insertAfter(t),p.append(t),a={left:t[0].offsetLeft,top:t[0].offsetTop,width:t[0].offsetWidth,height:t[0].offsetHeight},l=this.decParseInt(t.css("paddingLeft"))+this.decParseInt(a.left)+this.decParseInt
(t.css("borderLeftWidth"))+2+"px",h=this.decParseInt(t.css("paddingTop"))+this.decParseInt(a.top)+this.decParseInt(t.css("borderTopWidth"))+"px",u=e.create("<span />").html(o).css({position:"absolute",
display:"none",top:h,left:l,fontSize:t.css("fontSize"),lineHeight:t.css("lineHeight"),fontFamily:t.css("fontFamily"),color:this.options.color}).addClass("hint").on("click",function(){return t[0].focus(
)}).insertAfter(t),s=100,t.focusin(function(){if(t.val()==="")return u.animate({opacity:.4,duration:s})}),t.focusout(function(){if(t.val()==="")return u.animate({opacity:1,duration:s})}),n=function(){return t
.val()===""?u.show():u.hide()},t.keyup(n),t.keypress(function(){return setTimeout(function(){return n()},1)}),t.keydown(function(){return setTimeout(function(){return n()},1)}),t.change(n),c=10,r=function(
){return n(),setTimeout(function(){return r()},c),c*=2,c=c>1e4?1e4:c},r(),i},r}(Formwatcher.Decorator))}).call(this);